import{p as M,v as x,s as _,Y as k}from"./framework.BHrE6nLq.js";const r=50,m="http://www.w3.org/2000/svg",q={__name:"InteractiveBG",setup(F){const u=M(window.innerWidth),c=M(window.innerHeight);let t=null,s=[];const p=()=>{if(!t)return;t.innerHTML="";const a=Math.ceil(u.value/r),h=Math.ceil(c.value/r);t.setAttribute("width",u.value),t.setAttribute("height",c.value),t.setAttribute("viewBox",`0 0 ${u.value} ${c.value}`);const l=document.createElementNS(m,"g");s=[];for(let n=0;n<a;n++)for(let o=0;o<h;o++){const e=document.createElementNS(m,"rect");e.setAttribute("x",n*r),e.setAttribute("y",o*r),e.setAttribute("width",r),e.setAttribute("height",r),e.setAttribute("fill","transparent"),e.setAttribute("stroke","var(--grid-color)"),e.setAttribute("stroke-width","1"),e.classList.add("grid-square"),s.push(e),l.appendChild(e)}t.appendChild(l)};let b=0,w=0,d;const f=a=>{b=a.clientX,w=a.clientY,d||(d=requestAnimationFrame(()=>{S(b,w),d=null}))},S=(a,h)=>{if(!s.length)return;const l=t.getBoundingClientRect(),n=Math.floor((a-l.left)/r)*r,o=Math.floor((h-l.top)/r)*r;s.forEach(i=>{i.removeAttribute("style")});const e=s.find(i=>parseFloat(i.getAttribute("x"))===n&&parseFloat(i.getAttribute("y"))===o);if(!e)return;e.setAttribute("stroke","var(--highlight-color)");const E=s.filter(i=>{const g=parseFloat(i.getAttribute("x")),v=parseFloat(i.getAttribute("y"));return Math.abs(g-n)<=r&&v===o||Math.abs(v-o)<=r&&g===n||Math.abs(g-n)===r&&Math.abs(v-o)===r});E.sort(()=>Math.random()-.5);const y=E.slice(0,3);y.forEach(i=>{i.setAttribute("stroke","var(--highlight-color)")}),setTimeout(()=>{e.setAttribute("stroke","var(--grid-color)"),y.forEach(i=>{i.setAttribute("stroke","var(--grid-color)")})},300)},A=()=>{u.value=window.innerWidth,c.value=window.innerHeight,p()};return x(()=>{t=document.createElementNS(m,"svg"),t.setAttribute("id","grid"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",document.body.appendChild(t),p(),window.addEventListener("mousemove",f)}),_(()=>{window.addEventListener("resize",A)}),k(()=>{window.removeEventListener("resize",A),window.removeEventListener("mousemove",f),t&&t.remove()}),()=>{}}};export{q as _};
